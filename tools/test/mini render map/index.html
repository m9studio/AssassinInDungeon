<html>
<head>
<title>assassin in dungeon new_map</title>
<link rel='icon' type="image/x-icon" href='img/icon.png'>
</head>
<style>

.main{position:absolute;
top:60;left:0;border: solid 2px black;}


</style>
<body>

<canvas id='main' class='main'></canvas>






</body>


<script>


ground = [
[98,98,98,98,98,98,98,102,102,102,102,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102,102,102,104,104,104,104,104,104,104,104,105,105,104,105,105,105,104,105],
[98,98,98,98,98,98,98,102,102,102,102,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102,102,102,104,104,104,104,104,104,104,104,104,104,104,104,104,105,104,105],
[98,98,6,7,8,98,98,102,102,102,102,102,102,102,17,17,6,7,7,7,8,17,17,17,17,17,17,17,17,17,17,102,102,102,102,104,104,104,104,104,104,104,104,104,104,105,104,105,104,105],
[98,98,21,52,23,98,98,102,102,102,102,102,102,102,17,17,21,51,22,51,23,17,17,17,17,17,17,17,17,17,17,102,102,102,102,102,104,104,104,104,104,104,102,102,102,102,104,105,104,105],
[98,98,36,37,38,98,98,102,102,102,102,102,102,102,17,17,21,22,22,22,23,17,17,17,17,17,17,17,17,17,17,102,102,102,102,102,102,102,102,104,104,102,102,102,102,102,102,104,104,105],
[98,98,98,98,98,98,98,102,102,102,102,102,102,102,17,17,21,51,22,51,23,17,17,17,17,17,17,17,17,17,17,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,104,104,104,105],
[98,98,98,98,98,98,98,102,102,102,102,102,102,102,17,17,36,37,37,37,38,17,17,17,17,17,17,17,17,17,17,102,102,102,102,102,102,102,102,102,102,102,102,102,102,104,104,104,104,104],
[102,102,102,100,102,102,102,102,102,102,102,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102,102,102,102,102,102,102,102,102,102,102,102,104,104,104,104,104,102,102],
[102,102,102,101,102,102,102,102,102,102,102,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,100,102,102,102,102,102,102,102,102,102,102,104,104,104,104,104,102,102,102],
[102,102,102,100,102,102,102,102,102,102,102,102,102,101,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,99,99,102,102,102,102,102,102,102,102,104,104,104,104,102,102,102,102,102],
[102,102,99,101,100,102,102,102,102,102,102,99,101,100,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,99,100,99,102,99,100,102,102,102,102,104,104,104,17,17,17,17,17,102],
[102,102,100,102,99,101,99,100,101,99,99,100,99,99,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,101,99,101,99,100,100,102,102,102,104,104,104,104,17,6,7,8,17,102],
[102,102,101,99,100,102,102,101,102,102,102,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102,102,100,100,101,99,102,102,102,104,104,104,102,17,21,51,23,17,102],
[102,102,102,101,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,99,101,100,102,102,102,104,104,104,104,102,17,21,22,23,17,102],
[102,102,102,100,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,99,101,102,102,104,104,104,104,102,102,17,21,51,23,17,102],
[102,102,102,99,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,100,102,102,104,104,104,102,102,102,17,36,37,38,17,102],
[102,102,101,100,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,98,98,98,98,98,98,98,98,98,104,104,104,102,102,99,17,17,17,17,17,102],
[68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,98,98,98,102,99,100,17,17,17,17,17,102],
[68,88,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,98,98,98,100,99,101,17,17,16,17,17,102],
[68,68,68,73,68,68,88,88,68,88,68,88,88,68,73,73,73,68,68,68,68,68,68,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,98,98,98,102,102,101,17,17,17,17,17,102],
[68,68,68,68,88,68,73,88,88,88,68,68,68,68,73,68,68,68,73,68,68,68,73,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,102,104,104,104,104,102,17,17,17,17,17,102],
[68,68,73,68,68,88,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,102,102,104,104,104,104,104,102,102,102,102,102],
[68,68,68,68,68,68,68,68,68,68,68,68,68,68,88,73,68,68,73,68,68,88,73,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,102,102,102,104,104,104,104,104,102,102,102,102],
[68,68,88,88,88,68,68,88,68,73,88,88,73,68,68,68,73,68,68,73,68,68,68,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,104,104,104,104,104,104,104],
[68,68,68,68,68,88,73,73,88,88,73,73,68,68,68,68,68,68,68,68,68,68,68,68,68,102,102,102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,104,104,104,104,104],
[68,68,68,88,68,68,68,68,68,88,88,68,68,73,68,68,68,68,68,68,68,73,68,68,68,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,104,104],
[68,68,68,88,88,68,68,68,68,68,68,88,68,68,73,68,68,68,68,68,68,88,68,68,68,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[68,68,88,88,68,68,73,68,68,68,68,73,73,68,68,68,68,68,68,68,68,68,68,68,68,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[68,68,68,88,88,73,68,68,68,68,68,68,68,68,88,68,73,68,68,73,68,68,88,68,68,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[68,68,68,88,88,68,88,68,68,68,68,68,68,68,68,68,68,68,68,68,68,88,68,73,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,73,68,68,88,88,68,68,73,68,68,68,68,73,68,68,68,73,68,68,88,88,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,68,68,68,68,73,68,68,73,68,73,68,73,68,68,88,88,88,68,68,73,68,68,102,102,102,17,17,17,6,7,7,7,7,7,8,17,17,17,17,16,17,17,17,16,17,17,102],
[68,68,73,88,68,68,68,68,68,68,68,68,68,68,68,73,68,68,68,68,68,68,68,68,68,102,102,102,17,17,17,21,51,22,22,22,51,23,17,17,17,17,17,17,17,17,17,17,17,102],
[68,88,68,88,68,68,68,68,68,68,68,68,68,68,68,68,68,88,88,88,68,68,68,68,68,102,102,102,17,17,17,21,22,22,51,22,22,23,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,73,68,68,73,68,73,68,68,68,88,68,68,73,68,68,68,73,68,68,68,68,68,68,102,102,102,17,17,17,21,51,22,22,22,51,23,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,88,68,68,68,68,68,68,88,68,68,73,73,73,68,88,88,88,68,68,68,68,68,68,102,102,102,17,17,17,36,37,37,37,37,37,38,17,17,17,17,16,17,17,17,16,17,17,102],
[68,68,73,68,68,68,68,68,68,88,88,68,73,73,68,68,68,68,68,68,88,73,88,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,88,68,73,73,68,73,68,68,73,73,68,73,73,73,73,68,68,68,88,68,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,88,88,68,68,68,68,68,73,68,68,68,68,68,73,73,68,68,68,68,73,68,88,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,73,68,68,68,73,68,68,68,73,73,68,68,68,68,73,68,68,88,68,68,68,68,102,102,102,17,17,16,17,17,17,16,17,17,17,16,17,17,17,16,17,17,17,16,17,17,102],
[68,68,88,68,73,68,68,73,73,68,68,68,68,68,68,68,68,73,73,68,68,68,68,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,73,73,68,73,73,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,88,68,68,68,73,73,68,68,68,68,68,68,73,73,73,68,68,73,68,68,88,68,68,68,102,99,100,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,88,68,73,73,73,73,68,68,68,68,68,68,73,68,68,68,68,73,68,73,68,68,101,100,101,17,17,16,17,17,17,16,17,17,17,16,17,17,17,16,17,17,17,16,17,17,102],
[68,68,88,68,68,68,73,68,73,73,73,73,73,73,73,73,68,68,68,73,68,68,88,68,68,102,102,101,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,73,68,68,73,68,68,68,68,68,68,68,68,88,88,68,68,68,68,68,68,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,68,73,68,68,68,68,68,68,68,73,68,73,68,68,68,68,68,73,68,68,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,88,68,73,88,88,68,88,88,68,73,73,73,68,88,68,68,88,88,73,68,88,68,68,102,102,102,17,17,16,17,17,17,16,17,17,17,16,17,17,17,16,17,17,17,16,17,17,102],
[68,68,68,68,68,68,68,68,68,88,68,68,68,68,68,68,68,88,68,68,88,88,68,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102],
[68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,102,102,102,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,102]];

layer1 = [
[94,92,92,92,92,92,95,133,134,134,134,134,134,135,49,2,2,2,2,2,2,2,19,2,2,2,2,2,2,2,31,148,149,150,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[107,59,1,1,1,58,107,148,149,149,149,149,149,150,5,59,1,1,1,1,1,58,5,1,1,1,1,1,1,1,5,1,1,1,29,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[107,1,1,1,1,1,107,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,54,1,5,1,1,1,1,29,1,1,1,1,1,1,28,41,28,41,1,1,1,1],
[107,1,1,1,1,1,107,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,29,28,41,1,1,30,1,1,1,1,29,1,1,1],
[107,1,1,1,1,1,107,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,34,2,2,2,20,1,1,1,1,1,1,1,1,29,30,1,1,1,1,1,1,104,1,1],
[107,60,1,1,1,60,107,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,42,1,1,1],
[96,92,93,1,91,92,97,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,42,1,1,104,30],
[119,120,1,1,1,1,1,1,1,1,1,1,1,1,5,60,1,1,1,1,1,60,5,1,1,1,1,1,1,1,5,1,1,1,1,115,1,1,1,1,1,1,1,42,104,1,1,30,1,118],
[134,135,1,1,1,1,1,1,1,1,1,1,1,1,46,3,1,34,2,2,2,2,33,1,1,1,4,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,42,1,1,104,30,1,1,133],
[134,135,1,1,1,1,1,1,1,1,1,1,1,1,48,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,48,1,1,1,1,1,1,1,1,1,1,42,1,1,30,1,1,1,1,133],
[134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,104,1,104,49,2,2,2,31,133],
[134,135,1,115,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,4,1,1,1,1,1,1,1,1,1,42,1,1,30,5,60,35,60,5,133],
[134,135,1,1,1,1,1,1,1,1,1,1,1,1,32,2,2,2,2,2,2,2,2,2,2,2,47,2,2,2,33,1,1,1,1,1,1,1,1,1,104,1,104,1,5,1,1,1,5,133],
[134,135,1,1,1,1,1,1,1,1,1,1,1,1,118,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,120,1,1,1,1,1,1,1,42,1,1,30,1,5,1,1,1,5,133],
[134,135,1,1,1,1,1,1,1,1,1,1,1,1,133,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,135,1,1,1,1,1,1,42,1,1,30,1,1,5,1,1,1,5,133],
[134,135,1,1,1,1,1,1,1,1,1,1,1,1,133,134,134,134,134,134,134,134,134,134,134,134,134,134,120,149,149,150,1,1,1,1,1,1,103,104,45,1,1,1,5,1,1,1,5,133],
[149,150,1,1,1,1,1,1,1,1,1,1,1,1,148,149,149,149,149,149,149,149,149,149,149,118,134,134,135,94,92,92,92,110,93,1,91,95,14,104,15,1,1,1,46,3,1,34,20,133],
[64,63,1,61,62,62,62,62,80,62,62,62,62,62,62,62,62,62,62,62,80,62,62,62,65,133,134,134,135,107,1,1,1,107,1,1,1,108,60,60,60,1,1,1,48,1,1,1,5,133],
[77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,1,1,1,1,77,1,1,1,77,133,134,134,135,107,1,54,1,107,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,133],
[77,1,1,1,1,1,1,1,77,1,54,1,1,1,1,1,1,1,1,1,77,1,54,1,77,133,134,134,135,107,1,1,1,107,1,1,1,106,60,60,60,1,1,1,4,1,1,1,5,133],
[77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,1,1,1,1,77,1,1,1,77,133,134,134,135,107,1,1,1,108,1,1,1,107,1,29,104,104,43,1,32,2,2,2,33,133],
[77,1,1,1,76,1,1,1,66,62,62,62,65,1,1,1,76,1,1,1,78,1,1,1,77,133,134,134,135,107,1,1,1,1,1,1,1,107,1,1,29,1,1,104,43,1,1,1,1,133],
[77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,77,133,134,134,135,107,1,1,1,1,1,1,1,107,1,1,1,29,104,1,1,43,1,1,1,148],
[77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,77,133,134,134,135,107,1,1,1,1,1,1,1,107,1,1,1,1,1,29,104,1,13,44,13,44],
[77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,77,133,134,134,135,96,92,92,92,92,92,92,92,97,1,1,1,1,1,1,1,29,28,41,1,1],
[77,1,1,1,66,62,62,62,65,1,1,1,78,1,1,1,82,62,62,62,63,1,1,1,77,133,134,134,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,120,1,29,30],
[77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,133,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,119,119,119,119],
[77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,133,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134],
[77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,133,134,120,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,150,118],
[77,1,1,1,76,1,1,1,66,62,62,62,62,62,62,62,81,1,1,1,76,1,1,1,77,133,134,135,49,2,2,2,2,2,2,2,2,2,2,2,19,2,2,2,2,2,2,2,31,133],
[77,1,1,1,77,1,1,1,1,1,1,1,1,1,1,1,77,1,1,1,77,1,1,1,77,133,134,135,5,59,1,1,1,1,1,1,1,1,1,58,5,1,1,1,1,1,1,1,5,133],
[77,1,1,1,77,1,1,1,1,1,1,1,1,1,54,1,77,1,1,1,77,1,1,1,77,133,134,135,5,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,133],
[77,1,1,1,77,1,1,1,1,1,1,1,1,1,1,1,77,1,1,1,77,1,1,1,77,133,134,135,5,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,133],
[77,1,1,1,82,62,62,62,62,62,62,62,80,62,62,62,67,1,1,1,66,62,62,62,81,133,134,135,5,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,4,1,1,1,5,133],
[77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,1,1,1,1,77,133,134,135,5,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,5,1,1,1,5,133],
[77,1,1,1,77,1,1,1,1,1,54,1,77,1,1,1,1,1,1,1,1,1,1,1,77,133,134,135,5,1,1,1,1,1,1,1,1,1,1,1,5,1,54,1,5,1,1,1,5,133],
[77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,1,1,1,1,77,133,134,135,5,59,1,1,1,1,1,1,1,1,1,58,5,1,1,1,5,1,1,1,5,133],
[77,1,1,1,77,1,1,1,64,62,62,62,67,1,1,1,64,62,62,62,63,1,1,1,77,133,134,135,46,2,2,2,19,3,1,34,2,2,2,2,18,2,2,2,33,1,1,1,5,133],
[77,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,133,134,135,5,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,133],
[77,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,133,134,135,5,1,54,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,133],
[77,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,77,1,1,1,1,1,1,1,77,133,134,135,5,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,133],
[77,1,1,1,78,1,1,1,78,1,1,1,64,62,62,62,81,1,1,1,61,62,62,62,81,148,149,150,5,1,1,1,46,2,2,2,3,1,1,1,5,1,1,1,49,2,2,2,20,133],
[77,1,1,1,1,1,1,1,1,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,78,1,1,1,48,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,5,1,1,1,5,133],
[77,1,1,1,1,1,1,1,1,1,1,1,77,1,54,1,77,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,5,1,54,1,5,133],
[77,1,1,1,1,1,1,1,1,1,1,1,77,1,1,1,77,1,1,1,1,1,1,1,76,1,1,1,4,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,5,1,1,1,5,133],
[82,62,62,62,62,62,62,62,63,1,1,1,78,1,1,1,66,62,62,62,62,62,62,62,81,118,119,120,5,1,1,1,48,1,1,1,4,1,1,1,48,1,1,1,48,1,1,1,5,133],
[77,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,77,133,134,135,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,5,133],
[77,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,77,133,134,135,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,5,133],
[77,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,77,133,134,135,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,5,133],
[66,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,67,133,134,135,32,2,2,2,2,2,2,2,47,2,2,2,2,2,2,2,2,2,2,2,33,148],[]];

var px=3;var py=1;



for(i=0;ground.length>i;i++){
for(i1=0;ground[i].length>i1;i1++){
ground[i][i1]--}}
var cc=layer1.length-1;
for(i=0;cc>i;i++){
for(i1=0;layer1[i].length>i1;i1++){
layer1[i][i1]--}}







document.onkeyup = function checkKeycode(event){
    var keycode;
    if(!event) var event = window.event;
   keycode = event.which; 
if(keycode==37||keycode==65){if(layer1[py][px-1]==0){layer1[py][px]=0;px-=1;}layer1[py][px]=8}
if(keycode==38||keycode==87){if(layer1[py-1][px]==0){layer1[py][px]=0;py-=1;
}else if(layer1[py-1][px]==53){layer1[py-1][px]=54;php=pmhp;newdata();
}else if((layer1[py-1][px]==39)&&((botn1<1)&&(botn2<1)&&(botn3<1)&&(botn4<1)&&(botn5<1)&&(botn6<1)&&(botn7<1)&&(botn8<1)&&(botn9<1)&&(botn10<1))){maplvl++;new_map();}
layer1[py][px]=9;}
if(keycode==39||keycode==68){if(layer1[py][px+1]==0){layer1[py][px]=0;px+=1;}layer1[py][px]=10}
if(keycode==40||keycode==83){if(layer1[py+1][px]==0){layer1[py][px]=0;py+=1;}layer1[py][px]=11}

drawImage();
}





var tilesetImage = new Image();
tilesetImage.src = 'img/map.png';
tilesetImage.onload = drawImage;

var canvas = document.getElementById('main');
var ctx = canvas.getContext('2d');

var tileSize = 26*1;/* Размер плитки (26*26)*/

canvas.height = ground.length*tileSize;
canvas.width  = ground[0].length*tileSize;

var rowTileCount = ground.length;/* Количество плиток в каждом ряду фона*/
var colTileCount = ground[0].length;/* Количество плиток в каждом столбце фона*/
var imageNumTiles = 15;  /* Количество плиток в каждом ряду тайлсета*/


function drawImage () {
canvas.height = 15*tileSize;
canvas.width  = 15*tileSize;
var rowTileCount = 15/* Количество плиток в каждом ряду фона*/
var colTileCount = 15/* Количество плиток в каждом столбце фона*/
var imageNumTiles = 15;  /* Количество плиток в каждом ряду тайлсета*/
var r1=0; var c1=0;
if((px>7)){c1=px-7;}
if((py>7)){r1=py-7;}
//if((py>7)&&(py<23)){r1=py-7;}else if(py>22){r1=15;}
 for (var r = 0; r < rowTileCount; r++) {for (var c = 0; c < colTileCount; c++) {
var tile = ground[ r+r1 ][ c+c1 ];
var tileRow = (tile / imageNumTiles) | 0; // Операция "побитовое ИЛИ"
var tileCol = (tile % imageNumTiles) | 0;
ctx.drawImage(tilesetImage, (tileCol * tileSize), (tileRow * tileSize), tileSize, tileSize, (c * tileSize), (r * tileSize), tileSize, tileSize);
tile =layer1[ r+r1 ][ c+c1 ]; 
tileRow = (tile / imageNumTiles) | 0; 
tileCol = (tile % imageNumTiles) | 0; 
ctx.drawImage(tilesetImage, (tileCol * tileSize), (tileRow * tileSize), tileSize, tileSize, (c * tileSize), (r * tileSize), tileSize, tileSize); 
   }} } 


</script>
</html>