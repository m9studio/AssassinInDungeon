/*изменение массивов*/
var ground;
var layer1;
var layer2=[];
var layer3=[];
var py;
var px;
var dy;
var dx;
var botn1;
var botn2;
var botn3;
var botn4;
var botn5;
var botn6;
var botn7;
var botn8;
var botn9;
var botn10;
var new_maps=true;
var map_object_animation=[];
new_map();

function new_map(z, x, y){
botn1=0;
botn2=0;
botn3=0;
botn4=0;
botn5=0;
botn6=0;
botn7=0;
botn8=0;
botn9=0;
botn10=0;
map_object_animation=[];
if(map_class=='peaceful'){
ground = [
[102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,6,7,8,98,6,7,8,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,21,52,23,98,21,52,23,98,102,102,102,102,102,102,102,102,99,100,101,102,102,102],
[ 102,102,98,36,37,38,98,36,37,38,98,102,102,102,102,102,102,102,100,101,102,99,101,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,100,99,101,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,101,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,99,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,100,102,102,102,102,102,102,102,102,102,102,102,102,68,68,68,68,68,68],
[ 102,102,102,102,102,102,99,102,102,102,102,102,102,102,102,102,102,102,102,68,68,68,68,68,68],
[ 102,102,102,102,102,102,101,102,102,102,102,102,102,102,102,104,104,102,102,68,68,68,68,68,68],
[ 102,102,102,102,102,101,99,99,102,102,102,102,102,102,104,104,104,104,102,68,68,68,68,68,68],
[ 101,100,101,99,100,99,102,101,102,102,102,102,102,102,104,104,128,128,128,128,128,128,128,128,128],
[ 102,102,102,102,102,101,99,100,102,102,102,102,102,102,104,104,128,128,128,128,128,128,128,208,128],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,104,104,128,128,128,128,128,128,128,128,128],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,104,104,128,128,128,128,128,223,224,225,128],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,104,104,128,128,128,128,128,238,239,240,128],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,104,128,128,128,128,128,238,269,240,128],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,128,128,128,128,128,238,239,240,128],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,128,128,128,128,128,253,254,255,128],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,128,128,128,128,128,128,128,128,128]
];
layer1 = [
[134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134],
[ 134,210,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,209,134],
[ 134,135,94,92,92,92,110,92,92,92,95,1,1,1,1,1,1,1,117,117,117,117,117,133,134],
[ 134,135,107,1,1,1,107,154,1,183,107,1,1,1,1,1,1,1,117,151,152,153,117,133,134],
[ 134,135,107,1,1,1,107,1,1,182,107,1,1,1,1,1,1,1,117,1,1,1,117,133,134],
[ 134,135,107,1,1,155,107,155,1,1,107,1,1,1,1,1,1,1,117,1,166,1,117,133,134],
[ 134,135,112,93,1,91,113,93,1,91,111,1,1,1,1,1,1,1,117,1,1,1,117,133,134],
[ 134,135,107,1,1,1,1,1,1,1,107,1,1,1,1,1,1,1,117,117,1,117,117,133,134],
[ 134,135,107,1,1,1,1,1,1,1,107,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,107,156,1,1,1,1,1,155,107,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,96,92,92,93,1,91,92,92,97,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,148,149],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,64,62,62,62,62,65],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,77,90,90,90,90,77],
[ 149,150,1,1,1,1,1,1,1,1,1,1,1,1,1,42,43,1,1,78,89,89,89,89,77],
[ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,42,1,1,43,1,1,1,1,1,1,78],
[ 1,1,1,1,1,1,115,1,1,1,1,1,1,1,29,1,124,123,1,121,140,122,122,122,125],
[ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,42,1,137,155,1,156,137,1,1,1,137],
[ 119,120,1,1,1,1,1,1,1,1,1,1,1,1,60,1,137,1,1,1,137,1,121,122,141],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,14,1,137,1,1,1,137,1,1,1,137],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,29,1,142,123,1,121,141,1,35,1,137],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,29,137,74,1,1,138,1,1,1,137],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,137,1,1,1,1,1,1,1,137],
[ 134,195,164,164,164,164,164,164,164,164,164,164,164,164,164,164,137,1,1,1,136,1,1,1,137],
[ 134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,135,126,122,122,122,143,122,122,122,127],
[]];
music_game.src='music/player.mp3';
px=4;py=4;
}else if(map_class=='normal_0'){
ground = [
[102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,102,102,102,102],
[ 99,100,99,100,101,102,102,102,102,102,102,102,102,105,105,105,105,105,105,105,105,105,105,102,102,102,102,102,102,102,99,100,101,100,101],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,105,105,105,105,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,102,100,101,99,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,102,101,102,100,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,102,99,100,101,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,98,98,98,98,98,98,98,98,98,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102],
[ 102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102]
];
layer1 = [
[134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134],
[ 134,210,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,209,134],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,42,13,44,43,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,42,13,44,0,0,0,0,13,44,43,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,1,42,0,0,0,0,0,0,0,0,0,0,43,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,42,0,0,0,0,0,0,0,0,0,0,0,0,43,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,60,0,0,0,0,0,0,0,0,0,0,0,0,45,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,14,0,0,0,0,0,0,0,0,0,0,0,0,15,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,43,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,60,0,0,0,0,0,0,0,0,0,0,0,0,45,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,14,0,0,0,0,0,0,0,0,0,0,0,0,15,1,1,1,1,1,1,1,1,133,134],
[ 149,150,1,1,1,1,1,1,1,1,1,29,0,0,0,0,0,0,0,0,0,0,0,0,30,1,1,1,1,1,1,1,1,148,149],
[ 0,193,1,1,1,1,1,1,1,1,1,1,29,0,0,0,0,0,0,0,0,0,0,30,1,1,1,1,1,1,1,1,1,1,1],
[ 0,193,1,1,1,1,1,1,1,1,1,1,1,29,28,41,0,0,0,0,28,41,30,1,1,1,1,1,1,1,1,1,1,1,1],
[ 0,193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,29,28,41,30,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[ 119,120,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,118,119],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,1,1,1,1,1,117,151,152,153,117,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,94,92,92,92,95,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,107,1,1,155,108,1,1,166,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,107,183,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,107,182,1,1,106,117,1,1,1,117,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,112,93,1,91,109,93,1,91,95,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,107,184,1,1,108,1,1,155,107,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,107,1,1,1,1,1,1,1,107,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,107,1,1,1,106,1,1,1,107,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,135,96,92,92,92,113,92,92,92,97,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,133,134],
[ 134,195,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,164,194,134],
[ 134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134],
[]];
music_game.src='music/fight.mp3';
px=33;py=17;
botn3=-10;botn4=-10;
}else if(map_class=='war'){
if(maplvl==0){
ground = [
[17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,208,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,223,224,224,225,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,238,239,239,240,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,238,239,239,240,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,253,254,254,255,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17]
];
layer1 = [
[49,3,40,34,19,2,2,2,19,2,2,19,2,2,2,19,2,2,2,31],
[ 5,1,1,1,5,1,1,1,5,1,1,5,1,1,1,48,1,90,1,5],
[ 5,1,1,1,5,1,54,1,5,1,34,20,1,54,1,27,1,89,1,5],
[ 5,1,1,1,5,1,1,1,5,1,155,5,1,1,1,4,1,1,1,5],
[ 46,3,1,34,18,3,27,49,33,50,34,47,19,2,2,18,3,27,34,20],
[ 5,1,1,1,48,1,1,5,155,1,1,156,5,1,1,48,1,1,1,5],
[ 5,1,157,1,27,1,1,5,27,1,1,27,5,1,1,1,1,157,1,5],
[ 5,1,1,1,4,1,1,5,27,1,1,27,5,1,1,4,1,1,1,5],
[ 46,3,27,34,33,1,1,5,156,1,1,155,5,1,1,32,3,1,34,20],
[ 5,1,1,1,1,1,1,46,3,1,1,34,20,1,1,1,1,1,1,5],
[ 5,1,1,1,1,1,1,5,59,1,1,58,5,1,1,1,1,1,1,5],
[ 46,3,27,34,19,3,1,32,31,1,1,49,33,1,34,19,3,1,34,20],
[ 5,1,1,1,48,1,1,1,48,1,1,48,1,1,1,48,1,1,1,5],
[ 5,1,157,1,1,1,27,1,1,1,1,1,1,27,1,1,1,157,1,5],
[ 5,1,1,1,4,1,1,1,4,1,1,4,1,1,1,4,1,1,1,5],
[ 46,3,1,34,18,2,2,2,20,1,1,46,2,2,2,18,3,1,34,20],
[ 5,1,1,1,48,1,1,1,48,1,1,5,184,184,185,48,1,1,1,5],
[ 5,1,27,1,1,1,54,1,1,1,1,5,183,27,1,1,1,27,1,5],
[ 5,1,1,1,4,1,1,1,4,1,1,5,182,1,156,4,1,1,1,5],
[ 32,2,2,2,47,2,2,2,47,2,2,47,2,2,2,47,2,2,2,33],
[]];
music_game.src='music/battle.mp3';
px=2;py=2;
dy=4; dx=9;
botn1=15;
}else if(maplvl==1){
ground = [
[17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,223,224,225,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,223,224,225,17],
[ 17,238,239,240,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,238,239,240,17],
[ 17,253,254,255,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,253,254,255,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,208,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,223,224,225,17,17,17,17,17,223,224,224,224,224,224,225,17,17,17,17,17,17,17,17,17],
[ 17,238,239,240,17,17,17,17,17,238,269,239,239,239,269,240,17,17,17,17,17,17,17,17,17],
[ 17,253,254,255,17,17,17,17,17,238,239,239,270,239,239,240,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,238,239,270,239,270,239,240,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,238,239,239,270,239,239,240,17,223,224,225,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,238,269,239,239,239,269,240,17,238,239,240,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,253,254,254,254,254,254,255,17,253,254,255,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,223,224,225,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,238,239,240,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,253,254,255,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17]
];
layer1 = [
[49,2,2,2,19,2,2,2,19,2,2,2,19,3,40,34,19,2,2,2,19,2,2,2,31],
[ 5,1,1,1,5,1,1,1,48,1,1,1,48,1,1,1,48,184,1,1,5,1,1,1,5],
[ 5,1,54,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,27,183,5,1,54,1,5],
[ 5,1,1,1,5,1,1,1,4,1,1,1,4,1,1,1,4,1,1,182,5,1,1,1,5],
[ 46,3,27,34,18,3,1,34,18,2,2,2,18,3,1,34,18,2,2,2,18,3,27,34,20],
[ 5,1,1,1,48,1,1,1,5,155,1,58,5,1,1,1,48,1,1,1,5,1,1,1,5],
[ 5,1,157,1,1,1,27,1,5,1,1,1,5,1,27,1,1,1,1,1,5,1,157,1,5],
[ 5,1,1,1,4,1,1,1,5,156,1,58,5,1,1,1,4,1,1,1,5,1,1,1,5],
[ 46,2,2,2,18,3,1,34,18,3,50,34,47,2,2,2,18,3,1,34,18,3,1,34,20],
[ 5,1,1,1,5,90,1,90,5,155,1,1,1,1,1,155,5,1,1,1,48,1,1,1,5],
[ 5,1,54,1,5,89,1,89,5,1,1,27,1,27,1,1,5,1,1,1,1,1,27,1,5],
[ 5,1,1,1,5,27,1,27,5,1,27,1,1,1,27,1,5,1,1,1,4,1,1,1,5],
[ 46,3,27,34,18,3,1,34,20,1,1,1,35,1,1,1,46,2,2,2,18,3,1,34,20],
[ 5,1,1,1,5,90,1,90,5,1,27,1,1,1,27,1,5,1,1,1,5,1,1,1,5],
[ 5,1,157,1,5,89,1,89,5,1,1,27,1,27,1,1,5,1,54,1,5,1,1,1,5],
[ 5,1,1,1,5,27,1,27,5,155,1,1,1,1,1,155,5,1,1,1,5,1,1,1,5],
[ 46,3,1,34,18,3,1,34,18,2,2,2,19,3,1,34,18,3,27,34,18,3,1,34,20],
[ 5,1,1,1,48,184,1,183,5,1,1,1,5,1,1,1,5,1,1,1,48,1,1,1,5],
[ 5,1,27,1,1,1,1,182,5,1,54,1,5,1,27,1,5,1,157,1,1,1,1,1,5],
[ 5,1,1,1,4,1,1,1,5,1,1,1,5,1,1,1,5,1,1,1,4,1,1,1,5],
[ 46,3,1,34,18,2,2,2,18,3,27,34,18,3,1,34,18,2,2,2,18,3,1,34,20],
[ 5,1,1,1,48,151,152,153,48,1,1,1,48,1,1,1,48,151,152,153,48,1,1,1,5],
[ 5,1,1,1,1,1,1,1,1,1,157,1,1,1,1,1,1,1,1,1,1,1,27,1,5],
[ 5,1,1,1,4,1,1,1,4,1,1,1,4,1,1,1,4,1,1,1,4,1,1,1,5],
[ 32,2,2,2,47,2,2,2,47,2,2,2,47,2,2,2,47,2,2,2,47,2,2,2,33],
[]];
music_game.src='music/battle.mp3';
px=14;py=2;
dy=8; dx=10;
botn1=24;
}else if(maplvl==2){
ground = [
[17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,223,224,225,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,238,239,240,17,17,17,17,17,17,17,17,17,17,17,208,17],
[ 17,253,254,255,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,223,224,224,224,224,224,225,17],
[ 17,17,17,17,17,17,17,17,17,238,239,239,268,239,239,240,17],
[ 17,17,17,17,17,17,17,17,17,238,239,239,239,239,239,240,17],
[ 17,17,17,17,17,17,17,17,17,238,268,239,239,239,268,240,17],
[ 17,17,17,17,17,17,17,17,17,238,239,239,239,239,239,240,17],
[ 17,17,17,17,17,17,17,17,17,238,239,239,268,239,239,240,17],
[ 17,17,17,17,17,17,17,17,17,253,254,254,254,254,254,255,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,223,224,225,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,238,239,240,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,253,254,255,17,17,17,17,17,17,17,17,17,17,17,17,17],
[ 17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17]
];
layer1 = [
[49,2,2,2,19,2,2,2,19,3,40,34,19,2,2,2,31],
[ 5,1,1,1,5,27,1,27,48,1,1,1,5,90,1,57,5],
[ 5,1,54,1,5,1,1,1,1,1,1,1,5,89,1,1,5],
[ 5,1,1,1,5,27,1,27,4,1,1,1,5,1,1,57,5],
[ 46,3,87,34,18,3,1,34,18,2,2,2,47,3,50,34,20],
[ 5,1,1,1,48,1,1,1,5,156,1,1,27,1,1,155,5],
[ 5,1,157,1,1,1,87,1,5,1,87,1,1,1,87,1,5],
[ 5,1,1,1,4,1,1,1,5,1,1,1,1,1,1,1,5],
[ 46,3,1,34,18,3,1,34,20,27,1,1,27,1,1,27,5],
[ 5,1,1,184,5,1,1,1,5,1,1,1,1,1,1,1,5],
[ 5,183,1,27,5,1,157,1,5,1,87,1,1,1,87,1,5],
[ 5,182,1,1,5,1,1,1,5,155,1,1,27,1,1,156,5],
[ 46,2,2,2,18,3,1,34,18,2,2,2,19,3,1,34,20],
[ 5,1,1,1,48,1,1,1,48,1,1,1,48,87,1,87,5],
[ 5,1,54,1,87,1,1,1,87,1,157,1,1,1,1,1,5],
[ 5,1,1,1,4,1,1,1,4,1,1,1,4,1,1,1,5],
[ 32,2,2,2,47,2,2,2,47,2,2,2,47,2,2,2,33],
[]];
music_game.src='music/battle.mp3';
px=10;py=2;
dy=4; dx=14;
botn2=10;botn1=10;
}else
{map_class='peaceful';new_maps=false;//new_map();
}}
if(z==true){px=x,py=y}


layer1[py][px]=199+(player_skin*15);

for(i=0;ground.length>i;i++){
for(i1=0;ground[i].length>i1;i1++){
ground[i][i1]--;
if((ground[i][i1]==104)||(ground[i][i1]==103)){map_object_animation[map_object_animation.length]=[i,i1];}
}}
var cc=layer1.length-1;
for(i=0;cc>i;i++){
for(i1=0;layer1[i].length>i1;i1++){
layer1[i][i1]--;
if((layer1[i][i1]==154)||(layer1[i][i1]==155)||(layer1[i][i1]==156)||(layer1[i][i1]==157)){map_object_animation[map_object_animation.length]=[i,i1];}
}}

for(i=0;cc>i;i++){
layer2[i]=[];layer3[i]=[];
for(i1=0;layer1[i].length>i1;i1++){
if(layer1[i][i1]==26){layer2[i][i1]=100;layer3[i][i1]=100;}
if(layer1[i][i1]==86){layer2[i][i1]=150;layer3[i][i1]=150;}
if(layer1[i][i1]==146){layer2[i][i1]=75;layer3[i][i1]=50;}
if(layer1[i][i1]==146){layer2[i][i1]=75;layer3[i][i1]=75;}

}}
if(new_maps==false){new_maps=true;new_map(true, 22, 17);}
}